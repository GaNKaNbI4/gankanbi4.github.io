(()=>{var e={448:e=>{window,e.exports=function(e){var t={};function a(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(s,i,function(t){return e[t]}.bind(null,i));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);var s=[],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],r={t:"top",r:"right",b:"bottom",l:"left",c:"centered"};function o(){}var l=["click","focusin","keydown","input"];function c(e){l.forEach((function(t){e.addEventListener(t,e===document?D:q)}))}function d(e){return Array.isArray(e)?e.map(d):"[object Object]"===C(e)?Object.keys(e).reduce((function(t,a){return t[a]=d(e[a]),t}),{}):e}function h(e,t){var a=e.calendar.querySelector(".qs-overlay"),s=a&&!a.classList.contains("qs-hidden");t=t||new Date(e.currentYear,e.currentMonth),e.calendar.innerHTML=[u(t,e,s),p(t,e,s),g(e,s)].join(""),s&&window.requestAnimationFrame((function(){M(!0,e)}))}function u(e,t,a){return['<div class="qs-controls'+(a?" qs-blur":"")+'">','<div class="qs-arrow qs-left"></div>','<div class="qs-month-year">','<span class="qs-month">'+t.months[e.getMonth()]+"</span>",'<span class="qs-year">'+e.getFullYear()+"</span>","</div>",'<div class="qs-arrow qs-right"></div>',"</div>"].join("")}function p(e,t,a){var s=t.currentMonth,i=t.currentYear,n=t.dateSelected,r=t.maxDate,o=t.minDate,l=t.showAllDates,c=t.days,d=t.disabledDates,h=t.startDay,u=t.weekendIndices,p=t.events,g=t.getRange?t.getRange():{},f=+g.start,m=+g.end,v=S(new Date(e).setDate(1)),w=v.getDay()-h,b=w<0?7:0;v.setMonth(v.getMonth()+1),v.setDate(0);var y=v.getDate(),x=[],_=b+7*((w+y)/7|0);_+=(w+y)%7?7:0;for(var M=1;M<=_;M++){var P=(M-1)%7,C=c[P],E=M-(w>=0?w:7+w),D=new Date(i,s,E),q=p[+D],$=E<1||E>y,k=$?E<1?-1:1:0,A=$&&!l,L=A?"":D.getDate(),O=+D==+n,T=P===u[0]||P===u[1],j=f!==m,z="qs-square "+C;q&&!A&&(z+=" qs-event"),$&&(z+=" qs-outside-current-month"),!l&&$||(z+=" qs-num"),O&&(z+=" qs-active"),(d[+D]||t.disabler(D)||T&&t.noWeekends||o&&+D<+o||r&&+D>+r)&&!A&&(z+=" qs-disabled"),+S(new Date)==+D&&(z+=" qs-current"),+D===f&&m&&j&&(z+=" qs-range-start"),+D>f&&+D<m&&(z+=" qs-range-middle"),+D===m&&f&&j&&(z+=" qs-range-end"),A&&(z+=" qs-empty",L=""),x.push('<div class="'+z+'" data-direction="'+k+'">'+L+"</div>")}var I=c.map((function(e){return'<div class="qs-square qs-day">'+e+"</div>"})).concat(x);return I.unshift('<div class="qs-squares'+(a?" qs-blur":"")+'">'),I.push("</div>"),I.join("")}function g(e,t){var a=e.overlayPlaceholder,s=e.overlayButton;return['<div class="qs-overlay'+(t?"":" qs-hidden")+'">',"<div>",'<input class="qs-overlay-year" placeholder="'+a+'" inputmode="numeric" />','<div class="qs-close">&#10005;</div>',"</div>",'<div class="qs-overlay-month-container">'+e.overlayMonths.map((function(e,t){return'<div class="qs-overlay-month" data-month-num="'+t+'">'+e+"</div>"})).join("")+"</div>",'<div class="qs-submit qs-disabled">'+s+"</div>","</div>"].join("")}function f(e,t,a){var s=t.el,i=t.calendar.querySelector(".qs-active"),n=e.textContent,r=t.sibling;(s.disabled||s.readOnly)&&t.respectDisabledReadOnly||(t.dateSelected=a?void 0:new Date(t.currentYear,t.currentMonth,n),i&&i.classList.remove("qs-active"),a||e.classList.add("qs-active"),v(s,t,a),a||x(t),r&&(m({instance:t,deselect:a}),t.first&&!r.dateSelected&&(r.currentYear=t.currentYear,r.currentMonth=t.currentMonth,r.currentMonthName=t.currentMonthName),h(t),h(r)),t.onSelect(t,a?void 0:new Date(t.dateSelected)))}function m(e){var t=e.instance.first?e.instance:e.instance.sibling,a=t.sibling;t===e.instance?e.deselect?(t.minDate=t.originalMinDate,a.minDate=a.originalMinDate):a.minDate=t.dateSelected:e.deselect?(a.maxDate=a.originalMaxDate,t.maxDate=t.originalMaxDate):t.maxDate=a.dateSelected}function v(e,t,a){if(!t.nonInput)return a?e.value="":t.formatter!==o?t.formatter(e,t.dateSelected,t):void(e.value=t.dateSelected.toDateString())}function w(e,t,a,s){a||s?(a&&(t.currentYear=+a),s&&(t.currentMonth=+s)):(t.currentMonth+=e.contains("qs-right")?1:-1,12===t.currentMonth?(t.currentMonth=0,t.currentYear++):-1===t.currentMonth&&(t.currentMonth=11,t.currentYear--)),t.currentMonthName=t.months[t.currentMonth],h(t),t.onMonthChange(t)}function b(e){if(!e.noPosition){var t=e.position.top,a=e.position.right;if(e.position.centered)return e.calendarContainer.classList.add("qs-centered");var s=e.positionedEl.getBoundingClientRect(),i=e.el.getBoundingClientRect(),n=e.calendarContainer.getBoundingClientRect(),r=i.top-s.top+(t?-1*n.height:i.height)+"px",o=i.left-s.left+(a?i.width-n.width:0)+"px";e.calendarContainer.style.setProperty("top",r),e.calendarContainer.style.setProperty("left",o)}}function y(e){return"[object Date]"===C(e)&&"Invalid Date"!==e.toString()}function S(e){if(y(e)||"number"==typeof e&&!isNaN(e)){var t=new Date(+e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}}function x(e){e.disabled||!e.calendarContainer.classList.contains("qs-hidden")&&!e.alwaysShow&&("overlay"!==e.defaultView&&M(!0,e),e.calendarContainer.classList.add("qs-hidden"),e.onHide(e))}function _(e){e.disabled||(e.calendarContainer.classList.remove("qs-hidden"),"overlay"===e.defaultView&&M(!1,e),b(e),e.onShow(e))}function M(e,t){var a=t.calendar,s=a.querySelector(".qs-overlay"),i=s.querySelector(".qs-overlay-year"),n=a.querySelector(".qs-controls"),r=a.querySelector(".qs-squares");e?(s.classList.add("qs-hidden"),n.classList.remove("qs-blur"),r.classList.remove("qs-blur"),i.value=""):(s.classList.remove("qs-hidden"),n.classList.add("qs-blur"),r.classList.add("qs-blur"),i.focus())}function P(e,t,a,s){var i=isNaN(+(new Date).setFullYear(t.value||void 0)),n=i?null:t.value;13===e.which||13===e.keyCode||"click"===e.type?s?w(null,a,n,s):i||t.classList.contains("qs-disabled")||w(null,a,n):a.calendar.contains(t)&&a.calendar.querySelector(".qs-submit").classList[i?"add":"remove"]("qs-disabled")}function C(e){return{}.toString.call(e)}function E(e){s.forEach((function(t){t!==e&&x(t)}))}function D(e){if(!e.__qs_shadow_dom){var t=e.which||e.keyCode,a=e.type,i=e.target,r=i.classList,o=s.filter((function(e){return e.calendar.contains(i)||e.el===i}))[0],l=o&&o.calendar.contains(i);if(!(o&&o.isMobile&&o.disableMobile))if("click"===a){if(!o)return s.forEach(x);if(o.disabled)return;var c=o.calendar,d=o.calendarContainer,u=o.disableYearOverlay,p=o.nonInput,g=c.querySelector(".qs-overlay-year"),m=!!c.querySelector(".qs-hidden"),v=c.querySelector(".qs-month-year").contains(i),b=i.dataset.monthNum;if(o.noPosition&&!l)(d.classList.contains("qs-hidden")?_:x)(o);else if(r.contains("qs-arrow"))w(r,o);else if(v||r.contains("qs-close"))u||M(!m,o);else if(b)P(e,g,o,b);else{if(r.contains("qs-disabled"))return;if(r.contains("qs-num")){var y=i.textContent,S=+i.dataset.direction,C=new Date(o.currentYear,o.currentMonth+S,y);if(S){o.currentYear=C.getFullYear(),o.currentMonth=C.getMonth(),o.currentMonthName=n[o.currentMonth],h(o);for(var D,q=o.calendar.querySelectorAll('[data-direction="0"]'),$=0;!D;){var k=q[$];k.textContent===y&&(D=k),$++}i=D}return void(+C==+o.dateSelected?f(i,o,!0):i.classList.contains("qs-disabled")||f(i,o))}r.contains("qs-submit")?P(e,g,o):p&&i===o.el&&(_(o),E(o))}}else if("focusin"===a&&o)_(o),E(o);else if("keydown"===a&&9===t&&o)x(o);else if("keydown"===a&&o&&!o.disabled){var A=!o.calendar.querySelector(".qs-overlay").classList.contains("qs-hidden");13===t&&A&&l?P(e,i,o):27===t&&A&&l&&M(!0,o)}else if("input"===a){if(!o||!o.calendar.contains(i))return;var L=o.calendar.querySelector(".qs-submit"),O=i.value.split("").reduce((function(e,t){return e||"0"!==t?e+(t.match(/[0-9]/)?t:""):""}),"").slice(0,4);i.value=O,L.classList[4===O.length?"remove":"add"]("qs-disabled")}}}function q(e){D(e),e.__qs_shadow_dom=!0}function $(e,t){l.forEach((function(a){e.removeEventListener(a,t)}))}function k(){_(this)}function A(){x(this)}function L(e,t){var a=S(e),s=this.currentYear,i=this.currentMonth,n=this.sibling;if(null==e)return this.dateSelected=void 0,v(this.el,this,!0),n&&(m({instance:this,deselect:!0}),h(n)),h(this),this;if(!y(e))throw new Error("`setDate` needs a JavaScript Date object.");if(this.disabledDates[+a]||a<this.minDate||a>this.maxDate)throw new Error("You can't manually set a date that's disabled.");this.dateSelected=a,t&&(this.currentYear=a.getFullYear(),this.currentMonth=a.getMonth(),this.currentMonthName=this.months[a.getMonth()]),v(this.el,this),n&&(m({instance:this}),h(n));var r=s===a.getFullYear()&&i===a.getMonth();return r||t?h(this,a):r||h(this,new Date(s,i,1)),this}function O(e){return j(this,e,!0)}function T(e){return j(this,e)}function j(e,t,a){var s=e.dateSelected,i=e.first,n=e.sibling,r=e.minDate,o=e.maxDate,l=S(t),c=a?"Min":"Max";function d(){return"original"+c+"Date"}function u(){return c.toLowerCase()+"Date"}function p(){return"set"+c}function g(){throw new Error("Out-of-range date passed to "+p())}if(null==t)e[d()]=void 0,n?(n[d()]=void 0,a?(i&&!s||!i&&!n.dateSelected)&&(e.minDate=void 0,n.minDate=void 0):(i&&!n.dateSelected||!i&&!s)&&(e.maxDate=void 0,n.maxDate=void 0)):e[u()]=void 0;else{if(!y(t))throw new Error("Invalid date passed to "+p());n?((i&&a&&l>(s||o)||i&&!a&&l<(n.dateSelected||r)||!i&&a&&l>(n.dateSelected||o)||!i&&!a&&l<(s||r))&&g(),e[d()]=l,n[d()]=l,(a&&(i&&!s||!i&&!n.dateSelected)||!a&&(i&&!n.dateSelected||!i&&!s))&&(e[u()]=l,n[u()]=l)):((a&&l>(s||o)||!a&&l<(s||r))&&g(),e[u()]=l)}return n&&h(n),h(e),e}function z(){var e=this.first?this:this.sibling,t=e.sibling;return{start:e.dateSelected,end:t.dateSelected}}function I(){var e=this.shadowDom,t=this.positionedEl,a=this.calendarContainer,i=this.sibling,n=this;this.inlinePosition&&(s.some((function(e){return e!==n&&e.positionedEl===t}))||t.style.setProperty("position",null)),a.remove(),s=s.filter((function(e){return e!==n})),i&&delete i.sibling,s.length||$(document,D);var r=s.some((function(t){return t.shadowDom===e}));for(var o in e&&!r&&$(e,q),this)delete this[o];s.length||l.forEach((function(e){document.removeEventListener(e,D)}))}function F(e,t){var a=new Date(e);if(!y(a))throw new Error("Invalid date passed to `navigate`");this.currentYear=a.getFullYear(),this.currentMonth=a.getMonth(),h(this),t&&this.onMonthChange(this)}function W(){var e=!this.calendarContainer.classList.contains("qs-hidden"),t=!this.calendarContainer.querySelector(".qs-overlay").classList.contains("qs-hidden");e&&M(t,this)}t.default=function(e,t){var a=function(e,t){var a,l,c=function(e){var t=d(e);t.events&&(t.events=t.events.reduce((function(e,t){if(!y(t))throw new Error('"options.events" must only contain valid JavaScript Date objects.');return e[+S(t)]=!0,e}),{})),["startDate","dateSelected","minDate","maxDate"].forEach((function(e){var a=t[e];if(a&&!y(a))throw new Error('"options.'+e+'" needs to be a valid JavaScript Date object.');t[e]=S(a)}));var a=t.position,n=t.maxDate,l=t.minDate,c=t.dateSelected,h=t.overlayPlaceholder,u=t.overlayButton,p=t.startDay,g=t.id;if(t.startDate=S(t.startDate||c||new Date),t.disabledDates=(t.disabledDates||[]).reduce((function(e,t){var a=+S(t);if(!y(t))throw new Error('You supplied an invalid date to "options.disabledDates".');if(a===+S(c))throw new Error('"disabledDates" cannot contain the same date as "dateSelected".');return e[a]=1,e}),{}),t.hasOwnProperty("id")&&null==g)throw new Error("`id` cannot be `null` or `undefined`");if(null!=g){var f=s.filter((function(e){return e.id===g}));if(f.length>1)throw new Error("Only two datepickers can share an id.");f.length?(t.second=!0,t.sibling=f[0]):t.first=!0}var m=["tr","tl","br","bl","c"].some((function(e){return a===e}));if(a&&!m)throw new Error('"options.position" must be one of the following: tl, tr, bl, br, or c.');function v(e){throw new Error('"dateSelected" in options is '+(e?"less":"greater")+' than "'+(e||"max")+'Date".')}if(t.position=function(e){var t=e[0],a=e[1],s={};return s[r[t]]=1,a&&(s[r[a]]=1),s}(a||"bl"),n<l)throw new Error('"maxDate" in options is less than "minDate".');if(c&&(l>c&&v("min"),n<c&&v()),["onSelect","onShow","onHide","onMonthChange","formatter","disabler"].forEach((function(e){"function"!=typeof t[e]&&(t[e]=o)})),["customDays","customMonths","customOverlayMonths"].forEach((function(e,a){var s=t[e],i=a?12:7;if(s){if(!Array.isArray(s)||s.length!==i||s.some((function(e){return"string"!=typeof e})))throw new Error('"'+e+'" must be an array with '+i+" strings.");t[a?a<2?"months":"overlayMonths":"days"]=s}})),p&&p>0&&p<7){var w=(t.customDays||i).slice(),b=w.splice(0,p);t.customDays=w.concat(b),t.startDay=+p,t.weekendIndices=[w.length-1,w.length]}else t.startDay=0,t.weekendIndices=[6,0];"string"!=typeof h&&delete t.overlayPlaceholder,"string"!=typeof u&&delete t.overlayButton;var x=t.defaultView;if(x&&"calendar"!==x&&"overlay"!==x)throw new Error('options.defaultView must either be "calendar" or "overlay".');return t.defaultView=x||"calendar",t}(t||{startDate:S(new Date),position:"bl",defaultView:"calendar"}),h=e;if("string"==typeof h)h="#"===h[0]?document.getElementById(h.slice(1)):document.querySelector(h);else{if("[object ShadowRoot]"===C(h))throw new Error("Using a shadow DOM as your selector is not supported.");for(var u,p=h.parentNode;!u;){var g=C(p);"[object HTMLDocument]"===g?u=!0:"[object ShadowRoot]"===g?(u=!0,a=p,l=p.host):p=p.parentNode}}if(!h)throw new Error("No selector / element found.");if(s.some((function(e){return e.el===h})))throw new Error("A datepicker already exists on that element.");var f=h===document.body,m=a?h.parentElement||a:f?document.body:h.parentElement,w=a?h.parentElement||l:m,b=document.createElement("div"),x=document.createElement("div");b.className="qs-datepicker-container qs-hidden",x.className="qs-datepicker";var M={shadowDom:a,customElement:l,positionedEl:w,el:h,parent:m,nonInput:"INPUT"!==h.nodeName,noPosition:f,position:!f&&c.position,startDate:c.startDate,dateSelected:c.dateSelected,disabledDates:c.disabledDates,minDate:c.minDate,maxDate:c.maxDate,noWeekends:!!c.noWeekends,weekendIndices:c.weekendIndices,calendarContainer:b,calendar:x,currentMonth:(c.startDate||c.dateSelected).getMonth(),currentMonthName:(c.months||n)[(c.startDate||c.dateSelected).getMonth()],currentYear:(c.startDate||c.dateSelected).getFullYear(),events:c.events||{},defaultView:c.defaultView,setDate:L,remove:I,setMin:O,setMax:T,show:k,hide:A,navigate:F,toggleOverlay:W,onSelect:c.onSelect,onShow:c.onShow,onHide:c.onHide,onMonthChange:c.onMonthChange,formatter:c.formatter,disabler:c.disabler,months:c.months||n,days:c.customDays||i,startDay:c.startDay,overlayMonths:c.overlayMonths||(c.months||n).map((function(e){return e.slice(0,3)})),overlayPlaceholder:c.overlayPlaceholder||"4-digit year",overlayButton:c.overlayButton||"Submit",disableYearOverlay:!!c.disableYearOverlay,disableMobile:!!c.disableMobile,isMobile:"ontouchstart"in window,alwaysShow:!!c.alwaysShow,id:c.id,showAllDates:!!c.showAllDates,respectDisabledReadOnly:!!c.respectDisabledReadOnly,first:c.first,second:c.second};if(c.sibling){var P=c.sibling,E=M,D=P.minDate||E.minDate,q=P.maxDate||E.maxDate;E.sibling=P,P.sibling=E,P.minDate=D,P.maxDate=q,E.minDate=D,E.maxDate=q,P.originalMinDate=D,P.originalMaxDate=q,E.originalMinDate=D,E.originalMaxDate=q,P.getRange=z,E.getRange=z}c.dateSelected&&v(h,M);var $=getComputedStyle(w).position;f||$&&"static"!==$||(M.inlinePosition=!0,w.style.setProperty("position","relative"));var j=s.filter((function(e){return e.positionedEl===M.positionedEl}));return j.some((function(e){return e.inlinePosition}))&&(M.inlinePosition=!0,j.forEach((function(e){e.inlinePosition=!0}))),b.appendChild(x),m.appendChild(b),M.alwaysShow&&_(M),M}(e,t);if(s.length||c(document),a.shadowDom&&(s.some((function(e){return e.shadowDom===a.shadowDom}))||c(a.shadowDom)),s.push(a),a.second){var l=a.sibling;m({instance:a,deselect:!a.dateSelected}),m({instance:l,deselect:!l.dateSelected}),h(l)}return h(a,a.startDate||a.dateSelected),a.alwaysShow&&b(a),a}}]).default}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,a),n.exports}(()=>{"use strict";const e={};let t=(e,t=500,a=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=a?`${a}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!a,!a&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!a&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))}),t))},s=(e,t=500,a=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,a&&e.style.removeProperty("height");let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=a?`${a}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))}),t)}},i=(e,a=500)=>e.hidden?s(e,a):t(e,a),n=!0,r=(e=500)=>{let t=document.querySelector("body");if(n){let a=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<a.length;e++){a[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),n=!1,setTimeout((function(){n=!0}),e)}};function o(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}let l=(e,t=!1,a=500,s=0)=>{const i=document.querySelector(e);if(i){let n="",l=0;t&&(n="header.header",l=document.querySelector(n).offsetHeight);let c={speedAsDuration:!0,speed:a,header:n,offset:s,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&(r(),document.documentElement.classList.remove("menu-open")),"undefined"!=typeof SmoothScroll)(new SmoothScroll).animateScroll(i,"",c);else{let e=i.getBoundingClientRect().top+scrollY;e=l?e-l:e,e=s?e-s:e,window.scrollTo({top:e,behavior:"smooth"})}o(`[gotoBlock]: Юхуу...едем к ${e}`)}else o(`[gotoBlock]: Ой ой..Такого блока нет на странице: ${e}`)};let c={getErrors(e){let t=0,a=e.querySelectorAll("*[data-required]");return a.length&&a.forEach((e=>{null===e.offsetParent&&"SELECT"!==e.tagName||e.disabled||(t+=this.validateInput(e))})),t},validateInput(e){let t=0;return"email"===e.dataset.required?(e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),t++):this.removeError(e)):("checkbox"!==e.type||e.checked)&&e.value.trim()?this.removeError(e):(this.addError(e),t++),t},addError(e){e.classList.add("_form-error"),e.parentElement.classList.add("_form-error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t),e.dataset.error&&e.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${e.dataset.error}</div>`)},removeError(e){e.classList.remove("_form-error"),e.parentElement.classList.remove("_form-error"),e.parentElement.querySelector(".form__error")&&e.parentElement.removeChild(e.parentElement.querySelector(".form__error"))},formClean(t){t.reset(),setTimeout((()=>{let a=t.querySelectorAll("input,textarea");for(let e=0;e<a.length;e++){const t=a[e];t.parentElement.classList.remove("_form-focus"),t.classList.remove("_form-focus"),c.removeError(t)}let s=t.querySelectorAll(".checkbox__input");if(s.length>0)for(let e=0;e<s.length;e++){s[e].checked=!1}if(e.select){let a=t.querySelectorAll(".select");if(a.length)for(let t=0;t<a.length;t++){const s=a[t].querySelector("select");e.select.selectBuild(s)}}}),0)},emailTest:e=>!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)};function d(){const t=document.forms;if(t.length)for(const e of t)e.addEventListener("submit",(function(e){a(e.target,e)})),e.addEventListener("reset",(function(e){const t=e.target;c.formClean(t)}));async function a(e,t){if(0===(e.hasAttribute("data-no-validate")?0:c.getErrors(e))){if(e.hasAttribute("data-ajax")){t.preventDefault();const a=e.getAttribute("action")?e.getAttribute("action").trim():"#",i=e.getAttribute("method")?e.getAttribute("method").trim():"GET",n=new FormData(e);e.classList.add("_sending");const r=await fetch(a,{method:i,body:n});if(r.ok){let t=await r.json();e.classList.remove("_sending"),s(e,t)}else alert("Ошибка"),e.classList.remove("_sending")}else e.hasAttribute("data-dev")&&(t.preventDefault(),s(e))}else{t.preventDefault();const a=e.querySelector("._form-error");a&&e.hasAttribute("data-goto-error")&&l(a,!0,1e3)}}function s(t,a=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:t}})),setTimeout((()=>{if(e.popup){const a=t.dataset.popupMessage;a&&e.popup.open(a)}}),0),c.formClean(t),o(`[Формы]: ${"Форма отправлена!"}`)}}e.select=new class{constructor(e,t=null){if(this.config=Object.assign({init:!0,logging:!0},e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"_select-disabled",classSelectTag:"_select-tag",classSelectOpen:"_select-open",classSelectActive:"_select-active",classSelectFocus:"_select-focus",classSelectMultiple:"_select-multiple",classSelectCheckBox:"_select-checkbox",classSelectOptionSelected:"_select-selected",classSelectPseudoLabel:"_select-pseudo-label"},this._this=this,this.config.init){const e=t?document.querySelectorAll(t):document.querySelectorAll("select");e.length?(this.selectsInit(e),this.setLogging(`Проснулся, построил селектов: (${e.length})`)):this.setLogging("Сплю, нет ни одного select zzZZZzZZz")}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach(((e,t)=>{this.selectInit(e,t+1)})),document.addEventListener("click",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("keydown",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusin",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusout",function(e){this.selectsActions(e)}.bind(this))}selectInit(e,t){const a=this;let s=document.createElement("div");if(s.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(s,e),s.appendChild(e),e.hidden=!0,t&&(e.dataset.id=t),this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show)){this.getSelectElement(s,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)}s.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.speed=e.dataset.speed?e.dataset.speed:"150",e.addEventListener("change",(function(e){a.selectChange(e)}))}selectBuild(e){const t=e.parentElement;t.dataset.id=e.dataset.id,e.dataset.classModif&&t.classList.add(`select_${e.dataset.classModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-search")&&this.searchActions(t),e.hasAttribute("data-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,a=e.type;if(t.closest(this.getSelectClass(this.selectClasses.classSelect))||t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const s=t.closest(".select")?t.closest(".select"):document.querySelector(`.${this.selectClasses.classSelect}[data-id="${t.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`),i=this.getSelectElement(s).originalSelect;if("click"===a){if(!i.disabled)if(t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),a=document.querySelector(`.${this.selectClasses.classSelect}[data-id="${e.dataset.selectId}"] .select__option[data-value="${e.dataset.value}"]`);this.optionAction(s,i,a)}else if(t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)))this.selectAction(s);else if(t.closest(this.getSelectClass(this.selectClasses.classSelectOption))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));this.optionAction(s,i,e)}}else"focusin"===a||"focusout"===a?t.closest(this.getSelectClass(this.selectClasses.classSelect))&&("focusin"===a?s.classList.add(this.selectClasses.classSelectFocus):s.classList.remove(this.selectClasses.classSelectFocus)):"keydown"===a&&"Escape"===e.code&&this.selectsСlose()}else this.selectsСlose()}selectsСlose(e){const t=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);t.length&&t.forEach((e=>{this.selectСlose(e)}))}selectСlose(e){const a=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),t(s,a.dataset.speed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,a=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;if(t.closest("[data-one-select]")){const e=t.closest("[data-one-select]");this.selectsСlose(e)}a.classList.contains("_slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),i(a,t.dataset.speed))}setSelectTitleValue(e,t){const a=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;s&&s.remove(),a.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t))}getSelectTitleValue(e,t){let a=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-tags")&&(a=this.getSelectedOptionsData(t).elements.map((t=>`<span role="button" data-select-id="${e.dataset.id}" data-value="${t.value}" class="_select-tag">${this.getSelectElementContent(t)}</span>`)).join(""),t.dataset.tags&&document.querySelector(t.dataset.tags)&&(document.querySelector(t.dataset.tags).innerHTML=a,t.hasAttribute("data-search")&&(a=!1))),a=a.length?a:t.dataset.placeholder?t.dataset.placeholder:"";let s="",i="";if(t.hasAttribute("data-pseudo-label")&&(s=t.dataset.pseudoLabel?` data-pseudo-label="${t.dataset.pseudoLabel}"`:' data-pseudo-label="Заполните атрибут"',i=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${s} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${a}" data-placeholder="${a}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const e=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.class?` ${this.getSelectedOptionsData(t).elements[0].dataset.class}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${s} class="${this.selectClasses.classSelectValue}${i}"><span class="${this.selectClasses.classSelectContent}${e}">${a}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.asset?`${e.dataset.asset}`:"",a=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let s="";return s+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",s+=t?`<span class="${this.selectClasses.classSelectData}">`:"",s+=t?a:"",s+=t?"</span>":"",s+=t?`<span class="${this.selectClasses.classSelectText}">`:"",s+=e.textContent,s+=t?"</span>":"",s+=t?"</span>":"",s}getSelectPlaceholder(e){const t=Array.from(e.options).find((e=>!e.value));if(t)return{value:t.textContent,show:t.hasAttribute("data-show"),label:{show:t.hasAttribute("data-label"),text:t.dataset.label}}}getSelectedOptionsData(e,t){let a=[];return e.multiple?a=Array.from(e.options).filter((e=>e.value)).filter((e=>e.selected)):a.push(e.options[e.selectedIndex]),{elements:a.map((e=>e)),values:a.filter((e=>e.value)).map((e=>e.value)),html:a.map((e=>this.getSelectElementContent(e)))}}getOptions(e){let t=e.hasAttribute("data-scroll")?"data-simplebar":"",a=e.dataset.scroll?`style="max-height:${e.dataset.scroll}px"`:"",s=Array.from(e.options);if(s.length>0){let i="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(s=s.filter((e=>e.value))),i+=t?`<div ${t} ${a} class="${this.selectClasses.classSelectOptionsScroll}">`:"",s.forEach((t=>{i+=this.getOption(t,e)})),i+=t?"</div>":"",i}}getOption(e,t){const a=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",s=!e.selected||t.hasAttribute("data-show-selected")||t.multiple?"":"hidden",i=e.dataset.class?` ${e.dataset.class}`:"",n=!!e.dataset.href&&e.dataset.href,r=e.hasAttribute("data-href-blank")?'target="_blank"':"";let o="";return o+=n?`<a ${r} ${s} href="${n}" data-value="${e.value}" class="${this.selectClasses.classSelectOption}${i}${a}">`:`<button ${s} class="${this.selectClasses.classSelectOption}${i}${a}" data-value="${e.value}" type="button">`,o+=this.getSelectElementContent(e),o+=n?"</a>":"</button>",o}setOptions(e,t){this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement.innerHTML=this.getOptions(t)}optionAction(e,t,a){if(t.multiple){a.classList.toggle(this.selectClasses.classSelectOptionSelected);this.getSelectedOptionsData(t).elements.forEach((e=>{e.removeAttribute("selected")}));e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected)).forEach((e=>{t.querySelector(`option[value="${e.dataset.value}"]`).setAttribute("selected","selected")}))}else t.hasAttribute("data-show-selected")||(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`)&&(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden=!1),a.hidden=!0),t.value=a.hasAttribute("data-value")?a.dataset.value:a.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-validate")&&c.validateInput(e),e.hasAttribute("data-submit")&&e.value){let t=document.createElement("button");t.type="submit",e.closest("form").append(t),t.click(),t.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){this.getSelectElement(e).originalSelect;const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,a=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,s=a.querySelectorAll(`.${this.selectClasses.classSelectOption}`),i=this;t.addEventListener("input",(function(){s.forEach((e=>{e.textContent.toUpperCase().indexOf(t.value.toUpperCase())>=0?e.hidden=!1:e.hidden=!0})),!0===a.hidden&&i.selectAction(e)}))}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}setLogging(e){this.config.logging&&o(`[select]: ${e}`)}}({});const h=a(448)("[data-datepicker]",{customDays:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],customMonths:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],overlayButton:"Применить",overlayPlaceholder:"Год (4 цифры)",startDay:1,formatter:(e,t,a)=>{const s=t.toLocaleDateString();e.value=s},onSelect:function(e,t,a){}});e.datepicker=h,$(document).ready((function(){$(".menu-button").click((function(){$(".menu-button").toggleClass("menu-button-open"),$(".menu-items").toggleClass("menu-items-open")}))})),function(e){function t(e,t,a){if(!a[0]||"object"==typeof a[0])return t.init.apply(e,a);if(t[a[0]])return t[a[0]].apply(e,Array.prototype.slice.call(a,1));throw h(a[0]+" is not a method or property")}function a(e,t,a,s){return{css:{position:"absolute",top:e,left:t,overflow:s||"hidden",zIndex:a||"auto"}}}function s(e,t,a,s,n){var r=1-n,o=r*r*r,l=n*n*n;return i(Math.round(o*e.x+3*n*r*r*t.x+3*n*n*r*a.x+l*s.x),Math.round(o*e.y+3*n*r*r*t.y+3*n*n*r*a.y+l*s.y))}function i(e,t){return{x:e,y:t}}function n(e,t,a){return p&&a?" translate3d("+e+"px,"+t+"px, 0px) ":" translate("+e+"px, "+t+"px) "}function r(e){return" rotate("+e+"deg) "}function o(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function l(){for(var e=["Moz","Webkit","Khtml","O","ms"],t=e.length,a="";t--;)e[t]+"Transform"in document.body.style&&(a="-"+e[t].toLowerCase()+"-");return a}function c(e,t,a,s,n){var r,o=[];if("-webkit-"==f){for(r=0;r<n;r++)o.push("color-stop("+s[r][0]+", "+s[r][1]+")");e.css({"background-image":"-webkit-gradient(linear, "+t.x+"% "+t.y+"%,"+a.x+"% "+a.y+"%, "+o.join(",")+" )"})}else{t={x:t.x/100*e.width(),y:t.y/100*e.height()};var l=(a={x:a.x/100*e.width(),y:a.y/100*e.height()}).x-t.x;r=a.y-t.y;var c=Math.atan2(r,l),d=c-Math.PI/2,h=(d=Math.abs(e.width()*Math.sin(d))+Math.abs(e.height()*Math.cos(d)),l=Math.sqrt(r*r+l*l),a=i(a.x<t.x?e.width():0,a.y<t.y?e.height():0),Math.tan(c));for(a=(r=-1/h)*(h=(r*a.x-a.y-h*t.x+t.y)/(r-h))-r*a.x+a.y,t=Math.sqrt(Math.pow(h-t.x,2)+Math.pow(a-t.y,2)),r=0;r<n;r++)o.push(" "+s[r][1]+" "+100*(t+l*s[r][0])/d+"%");e.css({"background-image":f+"linear-gradient("+-c+"rad,"+o.join(",")+")"})}}function d(t,a,s){return t=e.Event(t),a.trigger(t,s),t.isDefaultPrevented()?"prevented":t.isPropagationStopped()?"stopped":""}function h(e){function t(e){this.name="TurnJsError",this.message=e}return t.prototype=Error(),t.prototype.constructor=t,new t(e)}function u(e){var t={top:0,left:0};do{t.left+=e.offsetLeft,t.top+=e.offsetTop}while(e=e.offsetParent);return t}var p,g,f="",m=Math.PI,v=m/2,w="ontouchstart"in window,b=w?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},y={backward:["bl","tl"],forward:["br","tr"],all:"tl bl tr br l r".split(" ")},S=["single","double"],x=["ltr","rtl"],_={acceleration:!0,display:"double",duration:600,page:1,gradients:!0,turnCorners:"bl,br",when:null},M={cornerSize:100},P={init:function(t){var a,s;p="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style,g=!(a=/AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent))||534.3<parseFloat(a[1]),f=l(),a=0;var i=this.data(),r=this.children();t=e.extend({width:this.width(),height:this.height(),direction:this.attr("dir")||this.css("direction")||"ltr"},_,t);if(i.opts=t,i.pageObjs={},i.pages={},i.pageWrap={},i.pageZoom={},i.pagePlace={},i.pageMv=[],i.zoom=1,i.totalPages=t.pages||0,i.eventHandlers={touchStart:e.proxy(P._touchStart,this),touchMove:e.proxy(P._touchMove,this),touchEnd:e.proxy(P._touchEnd,this),start:e.proxy(P._eventStart,this)},t.when)for(s in t.when)o(s,t.when)&&this.bind(s,t.when[s]);for(this.css({position:"relative",width:t.width,height:t.height}),this.turn("display",t.display),""!==t.direction&&this.turn("direction",t.direction),p&&!w&&t.acceleration&&this.transform(n(0,0,!0)),s=0;s<r.length;s++)"1"!=e(r[s]).attr("ignore")&&this.turn("addPage",r[s],++a);return e(this).bind(b.down,i.eventHandlers.touchStart).bind("end",P._eventEnd).bind("pressed",P._eventPressed).bind("released",P._eventReleased).bind("flip",P._flip),e(this).parent().bind("start",i.eventHandlers.start),e(document).bind(b.move,i.eventHandlers.touchMove).bind(b.up,i.eventHandlers.touchEnd),this.turn("page",t.page),i.done=!0,this},addPage:function(t,a){var s,i=!1,n=this.data(),r=n.totalPages+1;if(n.destroying)return!1;if((s=/\bp([0-9]+)\b/.exec(e(t).attr("class")))&&(a=parseInt(s[1],10)),a){if(a==r)i=!0;else if(a>r)throw h('Page "'+a+'" cannot be inserted')}else a=r,i=!0;return 1<=a&&a<=r&&(s="double"==n.display?a%2?" odd":" even":"",n.done&&this.turn("stop"),a in n.pageObjs&&P._movePages.call(this,a,1),i&&(n.totalPages=r),n.pageObjs[a]=e(t).css({float:"left"}).addClass("page p"+a+s),-1!=navigator.userAgent.indexOf("MSIE 9.0")&&n.pageObjs[a].hasClass("hard")&&n.pageObjs[a].removeClass("hard"),P._addPage.call(this,a),P._removeFromDOM.call(this)),this},_addPage:function(t){var a=this.data(),s=a.pageObjs[t];if(s)if(P._necessPage.call(this,t)){if(!a.pageWrap[t]){a.pageWrap[t]=e("<div/>",{class:"page-wrapper",page:t,css:{position:"absolute",overflow:"hidden"}}),this.append(a.pageWrap[t]),a.pagePlace[t]||(a.pagePlace[t]=t,a.pageObjs[t].appendTo(a.pageWrap[t]));var i=P._pageSize.call(this,t,!0);s.css({width:i.width,height:i.height}),a.pageWrap[t].css(i)}a.pagePlace[t]==t&&P._makeFlip.call(this,t)}else a.pagePlace[t]=0,a.pageObjs[t]&&a.pageObjs[t].remove()},hasPage:function(e){return o(e,this.data().pageObjs)},center:function(t){var a=this.data(),s=e(this).turn("size"),i=0;return a.noCenter||("double"==a.display&&(t=this.turn("view",t||a.tpage||a.page),"ltr"==a.direction?t[0]?t[1]||(i+=s.width/4):i-=s.width/4:t[0]?t[1]||(i-=s.width/4):i+=s.width/4),e(this).css({marginLeft:i})),this},destroy:function(){var t=this,a=this.data(),s="end first flip last pressed released start turning turned zooming missing".split(" ");if("prevented"!=d("destroying",this)){for(a.destroying=!0,e.each(s,(function(e,a){t.unbind(a)})),this.parent().unbind("start",a.eventHandlers.start),e(document).unbind(b.move,a.eventHandlers.touchMove).unbind(b.up,a.eventHandlers.touchEnd);0!==a.totalPages;)this.turn("removePage",a.totalPages);return a.fparent&&a.fparent.remove(),a.shadow&&a.shadow.remove(),this.removeData(),a=null,this}},is:function(){return"object"==typeof this.data().pages},zoom:function(t){var a=this.data();if("number"==typeof t){if(.001>t||100<t)throw h(t+" is not a value for zoom");if("prevented"==d("zooming",this,[t,a.zoom]))return this;var s=this.turn("size"),i=this.turn("view"),n=1/a.zoom,r=Math.round(s.width*n*t);s=Math.round(s.height*n*t);for(a.zoom=t,e(this).turn("stop").turn("size",r,s),a.opts.autoCenter&&this.turn("center"),P._updateShadow.call(this),t=0;t<i.length;t++)i[t]&&a.pageZoom[i[t]]!=a.zoom&&(this.trigger("zoomed",[i[t],i,a.pageZoom[i[t]],a.zoom]),a.pageZoom[i[t]]=a.zoom);return this}return a.zoom},_pageSize:function(e,t){var a=this.data(),s={};if("single"==a.display)s.width=this.width(),s.height=this.height(),t&&(s.top=0,s.left=0,s.right="auto");else{var i=this.width()/2,n=this.height();if(a.pageObjs[e].hasClass("own-size")?(s.width=a.pageObjs[e].width(),s.height=a.pageObjs[e].height()):(s.width=i,s.height=n),t){var r=e%2;s.top=(n-s.height)/2,"ltr"==a.direction?(s[r?"right":"left"]=i-s.width,s[r?"left":"right"]="auto"):(s[r?"left":"right"]=i-s.width,s[r?"right":"left"]="auto")}}return s},_makeFlip:function(e){var t=this.data();if(!t.pages[e]&&t.pagePlace[e]==e){var a="single"==t.display,s=e%2;t.pages[e]=t.pageObjs[e].css(P._pageSize.call(this,e)).flip({page:e,next:s||a?e+1:e-1,turn:this}).flip("disable",t.disabled),P._setPageLoc.call(this,e),t.pageZoom[e]=t.zoom}return t.pages[e]},_makeRange:function(){var e,t;if(!(1>this.data().totalPages))for(e=(t=this.turn("range"))[0];e<=t[1];e++)P._addPage.call(this,e)},range:function(e){var t,a,s,i=this.data();e=e||i.tpage||i.page||1;if(s=P._view.call(this,e),1>e||e>i.totalPages)throw h('"'+e+'" is not a valid page');return s[1]=s[1]||s[0],1<=s[0]&&s[1]<=i.totalPages?(e=Math.floor(2),i.totalPages-s[1]>s[0]?a=2*e-(t=Math.min(s[0]-1,e)):t=2*e-(a=Math.min(i.totalPages-s[1],e))):a=t=5,[Math.max(1,s[0]-t),Math.min(i.totalPages,s[1]+a)]},_necessPage:function(e){if(0===e)return!0;var t=this.turn("range");return this.data().pageObjs[e].hasClass("fixed")||e>=t[0]&&e<=t[1]},_removeFromDOM:function(){var e,t=this.data();for(e in t.pageWrap)o(e,t.pageWrap)&&!P._necessPage.call(this,e)&&P._removePageFromDOM.call(this,e)},_removePageFromDOM:function(e){var t=this.data();if(t.pages[e]){var a=t.pages[e].data();C._moveFoldingPage.call(t.pages[e],!1),a.f&&a.f.fwrapper&&a.f.fwrapper.remove(),t.pages[e].removeData(),t.pages[e].remove(),delete t.pages[e]}t.pageObjs[e]&&t.pageObjs[e].remove(),t.pageWrap[e]&&(t.pageWrap[e].remove(),delete t.pageWrap[e]),P._removeMv.call(this,e),delete t.pagePlace[e],delete t.pageZoom[e]},removePage:function(e){var t=this.data();if("*"==e)for(;0!==t.totalPages;)this.turn("removePage",t.totalPages);else{if(1>e||e>t.totalPages)throw h("The page "+e+" doesn't exist");t.pageObjs[e]&&(this.turn("stop"),P._removePageFromDOM.call(this,e),delete t.pageObjs[e]),P._movePages.call(this,e,-1),t.totalPages-=1,t.page>t.totalPages?(t.page=null,P._fitPage.call(this,t.totalPages)):(P._makeRange.call(this),this.turn("update"))}return this},_movePages:function(e,t){var a,s=this,i=this.data(),n="single"==i.display,r=function(e){var a=e+t,r=a%2,o=r?" odd ":" even ";i.pageObjs[e]&&(i.pageObjs[a]=i.pageObjs[e].removeClass("p"+e+" odd even").addClass("p"+a+o)),i.pagePlace[e]&&i.pageWrap[e]&&(i.pagePlace[a]=a,i.pageWrap[a]=i.pageObjs[a].hasClass("fixed")?i.pageWrap[e].attr("page",a):i.pageWrap[e].css(P._pageSize.call(s,a,!0)).attr("page",a),i.pages[e]&&(i.pages[a]=i.pages[e].flip("options",{page:a,next:n||r?a+1:a-1})),t&&(delete i.pages[e],delete i.pagePlace[e],delete i.pageZoom[e],delete i.pageObjs[e],delete i.pageWrap[e]))};if(0<t)for(a=i.totalPages;a>=e;a--)r(a);else for(a=e;a<=i.totalPages;a++)r(a)},display:function(t){var a=this.data(),s=a.display;if(void 0===t)return s;if(-1==e.inArray(t,S))throw h('"'+t+'" is not a value for display');switch(t){case"single":a.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),a.pageObjs[0]=e("<div />",{class:"page p-temporal"}).css({width:this.width(),height:this.height()}).appendTo(this)),this.addClass("shadow");break;case"double":a.pageObjs[0]&&(this.turn("stop").css({overflow:""}),a.pageObjs[0].remove(),delete a.pageObjs[0]),this.removeClass("shadow")}return a.display=t,s&&(t=this.turn("size"),P._movePages.call(this,1,0),this.turn("size",t.width,t.height).turn("update")),this},direction:function(t){var a=this.data();if(void 0===t)return a.direction;if(t=t.toLowerCase(),-1==e.inArray(t,x))throw h('"'+t+'" is not a value for direction');return"rtl"==t&&e(this).attr("dir","ltr").css({direction:"ltr"}),a.direction=t,a.done&&this.turn("size",e(this).width(),e(this).height()),this},animating:function(){return 0<this.data().pageMv.length},corner:function(){var e,t,a=this.data();for(t in a.pages)if(o(t,a.pages)&&(e=a.pages[t].flip("corner")))return e;return!1},data:function(){return this.data()},disable:function(t){var a,s=this.data(),i=this.turn("view");for(a in s.disabled=void 0===t||!0===t,s.pages)o(a,s.pages)&&s.pages[a].flip("disable",!!s.disabled||-1==e.inArray(parseInt(a,10),i));return this},disabled:function(e){return void 0===e?!0===this.data().disabled:this.turn("disable",e)},size:function(e,t){if(void 0===e||void 0===t)return{width:this.width(),height:this.height()};this.turn("stop");var a,s,i=this.data();for(a in s="double"==i.display?e/2:e,this.css({width:e,height:t}),i.pageObjs[0]&&i.pageObjs[0].css({width:s,height:t}),i.pageWrap)o(a,i.pageWrap)&&(s=P._pageSize.call(this,a,!0),i.pageObjs[a].css({width:s.width,height:s.height}),i.pageWrap[a].css(s),i.pages[a]&&i.pages[a].css({width:s.width,height:s.height}));return this.turn("resize"),this},resize:function(){var e,t=this.data();for(t.pages[0]&&(t.pageWrap[0].css({left:-this.width()}),t.pages[0].flip("resize",!0)),e=1;e<=t.totalPages;e++)t.pages[e]&&t.pages[e].flip("resize",!0);P._updateShadow.call(this),t.opts.autoCenter&&this.turn("center")},_removeMv:function(e){var t,a=this.data();for(t=0;t<a.pageMv.length;t++)if(a.pageMv[t]==e)return a.pageMv.splice(t,1),!0;return!1},_addMv:function(e){var t=this.data();P._removeMv.call(this,e),t.pageMv.push(e)},_view:function(e){var t=this.data();e=e||t.page;return"double"==t.display?e%2?[e-1,e]:[e,e+1]:[e]},view:function(e){var t=this.data();e=P._view.call(this,e);return"double"==t.display?[0<e[0]?e[0]:0,e[1]<=t.totalPages?e[1]:0]:[0<e[0]&&e[0]<=t.totalPages?e[0]:0]},stop:function(e,t){if(this.turn("animating")){var a,s,i,n=this.data();for(n.tpage&&(n.page=n.tpage,delete n.tpage),a=0;a<n.pageMv.length;a++)n.pageMv[a]&&n.pageMv[a]!==e&&(s=(i=n.pages[n.pageMv[a]]).data().f.opts,i.flip("hideFoldedPage",t),t||C._moveFoldingPage.call(i,!1),s.force&&(s.next=0==s.page%2?s.page-1:s.page+1,delete s.force))}return this.turn("update"),this},pages:function(e){var t=this.data();if(e){if(e<t.totalPages)for(var a=t.totalPages;a>e;a--)this.turn("removePage",a);return t.totalPages=e,P._fitPage.call(this,t.page),this}return t.totalPages},_missing:function(e){var t=this.data();if(!(1>t.totalPages)){var a=this.turn("range",e),s=[];for(e=a[0];e<=a[1];e++)t.pageObjs[e]||s.push(e);0<s.length&&this.trigger("missing",[s])}},_fitPage:function(e){var t=this.data(),a=this.turn("view",e);if(P._missing.call(this,e),t.pageObjs[e]){t.page=e,this.turn("stop");for(var s=0;s<a.length;s++)a[s]&&t.pageZoom[a[s]]!=t.zoom&&(this.trigger("zoomed",[a[s],a,t.pageZoom[a[s]],t.zoom]),t.pageZoom[a[s]]=t.zoom);P._removeFromDOM.call(this),P._makeRange.call(this),P._updateShadow.call(this),this.trigger("turned",[e,a]),this.turn("update"),t.opts.autoCenter&&this.turn("center")}},_turnPage:function(t){var a,s,i=this.data(),n=i.pagePlace[t],r=this.turn("view"),o=this.turn("view",t);if(i.page!=t){var l=i.page;if("prevented"==d("turning",this,[t,o]))return void(l==i.page&&-1!=e.inArray(n,i.pageMv)&&i.pages[n].flip("hideFoldedPage",!0));-1!=e.inArray(1,o)&&this.trigger("first"),-1!=e.inArray(i.totalPages,o)&&this.trigger("last")}"single"==i.display?(a=r[0],s=o[0]):r[1]&&t>r[1]?(a=r[1],s=o[0]):r[0]&&t<r[0]&&(a=r[0],s=o[1]),n=i.opts.turnCorners.split(","),o=(r=i.pages[a].data().f).opts,l=r.point,P._missing.call(this,t),i.pageObjs[t]&&(this.turn("stop"),i.page=t,P._makeRange.call(this),i.tpage=s,o.next!=s&&(o.next=s,o.force=!0),this.turn("update"),r.point=l,"hard"==r.effect?"ltr"==i.direction?i.pages[a].flip("turnPage",t>a?"r":"l"):i.pages[a].flip("turnPage",t>a?"l":"r"):"ltr"==i.direction?i.pages[a].flip("turnPage",n[t>a?1:0]):i.pages[a].flip("turnPage",n[t>a?0:1]))},page:function(t){var a=this.data();if(void 0===t)return a.page;if(!a.disabled&&!a.destroying){if(0<(t=parseInt(t,10))&&t<=a.totalPages)return t!=a.page&&(a.done&&-1==e.inArray(t,this.turn("view"))?P._turnPage.call(this,t):P._fitPage.call(this,t)),this;throw h("The page "+t+" does not exist")}},next:function(){return this.turn("page",Math.min(this.data().totalPages,P._view.call(this,this.data().page).pop()+1))},previous:function(){return this.turn("page",Math.max(1,P._view.call(this,this.data().page).shift()-1))},peel:function(e,t){var a=this.data(),s=this.turn("view");t=void 0===t||!0===t;return!1===e?this.turn("stop",null,t):"single"==a.display?a.pages[a.page].flip("peel",e,t):(s="ltr"==a.direction?-1!=e.indexOf("l")?s[0]:s[1]:-1!=e.indexOf("l")?s[1]:s[0],a.pages[s]&&a.pages[s].flip("peel",e,t)),this},_addMotionPage:function(){var t=e(this).data().f.opts,a=t.turn;a.data(),P._addMv.call(a,t.page)},_eventStart:function(e,t,a){var s=t.turn.data(),i=s.pageZoom[t.page];e.isDefaultPrevented()||(i&&i!=s.zoom&&(t.turn.trigger("zoomed",[t.page,t.turn.turn("view",t.page),i,s.zoom]),s.pageZoom[t.page]=s.zoom),"single"==s.display&&a&&("l"==a.charAt(1)&&"ltr"==s.direction||"r"==a.charAt(1)&&"rtl"==s.direction?(t.next=t.next<t.page?t.next:t.page-1,t.force=!0):t.next=t.next>t.page?t.next:t.page+1),P._addMotionPage.call(e.target)),P._updateShadow.call(t.turn)},_eventEnd:function(t,a,s){e(t.target).data();var i=(t=a.turn).data();s?((s=i.tpage||i.page)==a.next||s==a.page)&&(delete i.tpage,P._fitPage.call(t,s||a.next,!0)):(P._removeMv.call(t,a.page),P._updateShadow.call(t),t.turn("update"))},_eventPressed:function(t){var a=(t=e(t.target).data().f).opts.turn;return a.data().mouseAction=!0,a.turn("update"),t.time=(new Date).getTime()},_eventReleased:function(t,a){var s,i=(s=e(t.target)).data().f,n=i.opts.turn,r=n.data();s="single"==r.display?"br"==a.corner||"tr"==a.corner?a.x<s.width()/2:a.x>s.width()/2:0>a.x||a.x>s.width(),(200>(new Date).getTime()-i.time||s)&&(t.preventDefault(),P._turnPage.call(n,i.opts.next)),r.mouseAction=!1},_flip:function(t){t.stopPropagation(),(t=e(t.target).data().f.opts).turn.trigger("turn",[t.next]),t.turn.data().opts.autoCenter&&t.turn.turn("center",t.next)},_touchStart:function(){var e,t=this.data();for(e in t.pages)if(o(e,t.pages)&&!1===C._eventStart.apply(t.pages[e],arguments))return!1},_touchMove:function(){var e,t=this.data();for(e in t.pages)o(e,t.pages)&&C._eventMove.apply(t.pages[e],arguments)},_touchEnd:function(){var e,t=this.data();for(e in t.pages)o(e,t.pages)&&C._eventEnd.apply(t.pages[e],arguments)},calculateZ:function(e){var t,a,s,i,n=this,r=this.data(),o=(t=this.turn("view"))[0]||t[1],l=e.length-1,c={pageZ:{},partZ:{},pageV:{}},d=function(e){(e=n.turn("view",e))[0]&&(c.pageV[e[0]]=!0),e[1]&&(c.pageV[e[1]]=!0)};for(t=0;t<=l;t++)a=e[t],s=r.pages[a].data().f.opts.next,i=r.pagePlace[a],d(a),d(s),a=r.pagePlace[s]==s?s:a,c.pageZ[a]=r.totalPages-Math.abs(o-a),c.partZ[i]=2*r.totalPages-l+t;return c},update:function(){var t,a=this.data();if(this.turn("animating")&&0!==a.pageMv[0]){var s,i=this.turn("calculateZ",a.pageMv),n=this.turn("corner"),r=this.turn("view"),l=this.turn("view",a.tpage);for(t in a.pageWrap)o(t,a.pageWrap)&&(s=a.pageObjs[t].hasClass("fixed"),a.pageWrap[t].css({display:i.pageV[t]||s?"":"none",zIndex:(a.pageObjs[t].hasClass("hard")?i.partZ[t]:i.pageZ[t])||(s?-1:0)}),s=a.pages[t])&&(s.flip("z",i.partZ[t]||null),i.pageV[t]&&s.flip("resize"),a.tpage?s.flip("hover",!1).flip("disable",-1==e.inArray(parseInt(t,10),a.pageMv)&&t!=l[0]&&t!=l[1]):s.flip("hover",!1===n).flip("disable",t!=r[0]&&t!=r[1]))}else for(t in a.pageWrap)o(t,a.pageWrap)&&(i=P._setPageLoc.call(this,t),a.pages[t]&&a.pages[t].flip("disable",a.disabled||1!=i).flip("hover",!0).flip("z",null));return this},_updateShadow:function(){var t,s,i=this.data(),n=this.width(),r=this.height(),o="single"==i.display?n:n/2;t=this.turn("view"),i.shadow||(i.shadow=e("<div />",{class:"shadow",css:a(0,0,0).css}).appendTo(this));for(var l=0;l<i.pageMv.length&&t[0]&&t[1];l++)t=this.turn("view",i.pages[i.pageMv[l]].data().f.opts.next),s=this.turn("view",i.pageMv[l]),t[0]=t[0]&&s[0],t[1]=t[1]&&s[1];switch(t[0]?t[1]?3:"ltr"==i.direction?2:1:"ltr"==i.direction?1:2){case 1:i.shadow.css({width:o,height:r,top:0,left:o});break;case 2:i.shadow.css({width:o,height:r,top:0,left:0});break;case 3:i.shadow.css({width:n,height:r,top:0,left:0})}},_setPageLoc:function(e){var t=this.data(),a=this.turn("view"),s=0;if(e==a[0]||e==a[1]?s=1:("single"==t.display&&e==a[0]+1||"double"==t.display&&e==a[0]-2||e==a[1]+2)&&(s=2),!this.turn("animating"))switch(s){case 1:t.pageWrap[e].css({zIndex:t.totalPages,display:""});break;case 2:t.pageWrap[e].css({zIndex:t.totalPages-1,display:""});break;case 0:t.pageWrap[e].css({zIndex:0,display:t.pageObjs[e].hasClass("fixed")?"":"none"})}return s},options:function(t){if(void 0===t)return this.data().opts;var a=this.data();if(e.extend(a.opts,t),t.pages&&this.turn("pages",t.pages),t.page&&this.turn("page",t.page),t.display&&this.turn("display",t.display),t.direction&&this.turn("direction",t.direction),t.width&&t.height&&this.turn("size",t.width,t.height),t.when)for(var s in t.when)o(s,t.when)&&this.unbind(s).bind(s,t.when[s]);return this},version:function(){return"4.1.0"}},C={init:function(e){return this.data({f:{disabled:!1,hover:!1,effect:this.hasClass("hard")?"hard":"sheet"}}),this.flip("options",e),C._addPageWrapper.call(this),this},setData:function(t){var a=this.data();return a.f=e.extend(a.f,t),this},options:function(t){var a=this.data().f;return t?(C.setData.call(this,{opts:e.extend({},a.opts||M,t)}),this):a.opts},z:function(e){var t=this.data().f;return t.opts["z-index"]=e,t.fwrapper&&t.fwrapper.css({zIndex:e||parseInt(t.parent.css("z-index"),10)||0}),this},_cAllowed:function(){var e=this.data().f,t=e.opts.page,a=e.opts.turn.data(),s=t%2;return"hard"==e.effect?"ltr"==a.direction?[s?"r":"l"]:[s?"l":"r"]:"single"==a.display?1==t?"ltr"==a.direction?y.forward:y.backward:t==a.totalPages?"ltr"==a.direction?y.backward:y.forward:y.all:"ltr"==a.direction?y[s?"forward":"backward"]:y[s?"backward":"forward"]},_cornerActivated:function(t){var a=this.data().f,s=this.width(),i=this.height(),n=(t={x:t.x,y:t.y,corner:""},a.opts.cornerSize);if(0>=t.x||0>=t.y||t.x>=s||t.y>=i)return!1;var r=C._cAllowed.call(this);switch(a.effect){case"hard":if(t.x>s-n)t.corner="r";else{if(!(t.x<n))return!1;t.corner="l"}break;case"sheet":if(t.y<n)t.corner+="t";else{if(!(t.y>=i-n))return!1;t.corner+="b"}if(t.x<=n)t.corner+="l";else{if(!(t.x>=s-n))return!1;t.corner+="r"}}return!(!t.corner||-1==e.inArray(t.corner,r))&&t},_isIArea:function(e){var t=this.data().f.parent.offset();e=w&&e.originalEvent?e.originalEvent.touches[0]:e;return C._cornerActivated.call(this,{x:e.pageX-t.left,y:e.pageY-t.top})},_c:function(e,t){switch(t=t||0,e){case"tl":return i(t,t);case"tr":return i(this.width()-t,t);case"bl":return i(t,this.height()-t);case"br":return i(this.width()-t,this.height()-t);case"l":return i(t,0);case"r":return i(this.width()-t,0)}},_c2:function(e){switch(e){case"tl":case"l":return i(2*this.width(),0);case"tr":case"r":return i(-this.width(),0);case"bl":return i(2*this.width(),this.height());case"br":return i(-this.width(),this.height())}},_foldingPage:function(){var e=this.data().f;if(e){var t=e.opts;if(t.turn)return"single"==(e=t.turn.data()).display?1<t.next||1<t.page?e.pageObjs[0]:null:e.pageObjs[t.next]}},_backGradient:function(){var t=this.data().f,s=t.opts.turn.data();return(s=s.opts.gradients&&("single"==s.display||2!=t.opts.page&&t.opts.page!=s.totalPages-1))&&!t.bshadow&&(t.bshadow=e("<div/>",a(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(t.parent)),s},type:function(){return this.data().f.effect},resize:function(e){var t=this.data().f,a=t.opts.turn.data(),s=this.width(),i=this.height();switch(t.effect){case"hard":e&&(t.wrapper.css({width:s,height:i}),t.fpage.css({width:s,height:i}),a.opts.gradients&&(t.ashadow.css({width:s,height:i}),t.bshadow.css({width:s,height:i})));break;case"sheet":e&&(e=Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(i,2))),t.wrapper.css({width:e,height:e}),t.fwrapper.css({width:e,height:e}).children(":first-child").css({width:s,height:i}),t.fpage.css({width:s,height:i}),a.opts.gradients&&t.ashadow.css({width:s,height:i}),C._backGradient.call(this)&&t.bshadow.css({width:s,height:i})),t.parent.is(":visible")&&(a=u(t.parent[0]),t.fwrapper.css({top:a.top,left:a.left}),a=u(t.opts.turn[0]),t.fparent.css({top:-a.top,left:-a.left})),this.flip("z",t.opts["z-index"])}},_addPageWrapper:function(){var t=this.data().f,s=t.opts.turn.data(),i=this.parent();if(t.parent=i,!t.wrapper)switch(t.effect){case"hard":(n={})[f+"transform-style"]="preserve-3d",n[f+"backface-visibility"]="hidden",t.wrapper=e("<div/>",a(0,0,2)).css(n).appendTo(i).prepend(this),t.fpage=e("<div/>",a(0,0,1)).css(n).appendTo(i),s.opts.gradients&&(t.ashadow=e("<div/>",a(0,0,0)).hide().appendTo(i),t.bshadow=e("<div/>",a(0,0,0)));break;case"sheet":var n=this.width(),r=this.height();Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(r,2))),t.fparent=t.opts.turn.data().fparent,t.fparent||((n=e("<div/>",{css:{"pointer-events":"none"}}).hide()).data().flips=0,n.css(a(0,0,"auto","visible").css).appendTo(t.opts.turn),t.opts.turn.data().fparent=n,t.fparent=n),this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"}),t.wrapper=e("<div/>",a(0,0,this.css("z-index"))).appendTo(i).prepend(this),t.fwrapper=e("<div/>",a(i.offset().top,i.offset().left)).hide().appendTo(t.fparent),t.fpage=e("<div/>",a(0,0,0,"visible")).css({cursor:"default"}).appendTo(t.fwrapper),s.opts.gradients&&(t.ashadow=e("<div/>",a(0,0,1)).appendTo(t.fpage)),C.setData.call(this,t)}C.resize.call(this,!0)},_fold:function(e){var t=this.data().f,a=t.opts.turn.data(),s=C._c.call(this,e.corner),o=this.width(),l=this.height();switch(t.effect){case"hard":e.x="l"==e.corner?Math.min(Math.max(e.x,0),2*o):Math.max(Math.min(e.x,o),-o);var d,h,u,p,w,b=a.totalPages,y=t.opts["z-index"]||b,S={overflow:"visible"},x=s.x?(s.x-e.x)/o:e.x/o,_=90*x,M=90>_;switch(e.corner){case"l":p="0% 50%",w="100% 50%",M?(d=0,h=0<t.opts.next-1,u=1):(d="100%",h=t.opts.page+1<b,u=0);break;case"r":p="100% 50%",w="0% 50%",_=-_,o=-o,M?(d=0,h=t.opts.next+1<b,u=0):(d="-100%",h=1!=t.opts.page,u=1)}S[f+"perspective-origin"]=w,t.wrapper.transform("rotateY("+_+"deg)translate3d(0px, 0px, "+(this.attr("depth")||0)+"px)",w),t.fpage.transform("translateX("+o+"px) rotateY("+(180+_)+"deg)",p),t.parent.css(S),M?(x=1-x,t.wrapper.css({zIndex:y+1}),t.fpage.css({zIndex:y})):(x-=1,t.wrapper.css({zIndex:y}),t.fpage.css({zIndex:y+1})),a.opts.gradients&&(h?t.ashadow.css({display:"",left:d,backgroundColor:"rgba(0,0,0,"+.5*x+")"}).transform("rotateY(0deg)"):t.ashadow.hide(),t.bshadow.css({opacity:1-x}),M?t.bshadow.parent()[0]!=t.wrapper[0]&&t.bshadow.appendTo(t.wrapper):t.bshadow.parent()[0]!=t.fpage[0]&&t.bshadow.appendTo(t.fpage),c(t.bshadow,i(100*u,0),i(100*(1-u),0),[[0,"rgba(0,0,0,0.3)"],[1,"rgba(0,0,0,0)"]],2));break;case"sheet":var P,E,D,q,$,k,A,L=this,O=0,T=i(0,0),j=i(0,0),z=i(0,0),I=C._foldingPage.call(this);Math.tan(0);var F=a.opts.acceleration,W=t.wrapper.height(),Y="t"==e.corner.substr(0,1),H="l"==e.corner.substr(1,1),N=function(){var t=i(0,0),n=i(0,0);t.x=s.x?s.x-e.x:e.x,t.y=g?s.y?s.y-e.y:e.y:0,n.x=H?o-t.x/2:e.x+t.x/2,n.y=t.y/2;var r=v-Math.atan2(t.y,t.x),c=r-Math.atan2(n.y,n.x);c=Math.max(0,Math.sin(c)*Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)));return O=r/m*180,z=i(c*Math.sin(r),c*Math.cos(r)),r>v&&(z.x+=Math.abs(z.y*t.y/t.x),z.y=0,Math.round(z.x*Math.tan(m-r))<l)?(e.y=Math.sqrt(Math.pow(l,2)+2*n.x*t.x),Y&&(e.y=l-e.y),N()):(r>v&&(t=m-r,n=W-l/Math.sin(t),T=i(Math.round(n*Math.cos(t)),Math.round(n*Math.sin(t))),H&&(T.x=-T.x),Y)&&(T.y=-T.y),P=Math.round(z.y/Math.tan(r)+z.x),n=(t=o-P)*Math.cos(2*r),c=t*Math.sin(2*r),j=i(Math.round(H?t-n:P+n),Math.round(Y?c:l-c)),a.opts.gradients&&($=t*Math.sin(r),t=C._c2.call(L,e.corner),t=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))/o,A=Math.sin(v*(1<t?2-t:t)),k=Math.min(t,1),q=100<$?($-100)/$:0,E=i($*Math.sin(r)/o*100,$*Math.cos(r)/l*100),C._backGradient.call(L)&&(D=i(1.2*$*Math.sin(r)/o*100,1.2*$*Math.cos(r)/l*100),H||(D.x=100-D.x),!Y))&&(D.y=100-D.y),z.x=Math.round(z.x),z.y=Math.round(z.y),!0)};switch(d=function(e,s,d,h){var u=["0","auto"],p=(o-W)*d[0]/100,g=(l-W)*d[1]/100,f=(s={left:u[s[0]],top:u[s[1]],right:u[s[2]],bottom:u[s[3]]},u={},90!=h&&-90!=h?H?-1:1:0),m=d[0]+"% "+d[1]+"%";L.css(s).transform(r(h)+n(e.x+f,e.y,F),m),t.fpage.css(s).transform(r(h)+n(e.x+j.x-T.x-o*d[0]/100,e.y+j.y-T.y-l*d[1]/100,F)+r((180/h-2)*h),m),t.wrapper.transform(n(-e.x+p-f,-e.y+g,F)+r(-h),m),t.fwrapper.transform(n(-e.x+T.x+p,-e.y+T.y+g,F)+r(-h),m),a.opts.gradients&&(d[0]&&(E.x=100-E.x),d[1]&&(E.y=100-E.y),u["box-shadow"]="0 0 20px rgba(0,0,0,"+.5*A+")",I.css(u),c(t.ashadow,i(H?100:0,Y?0:100),i(E.x,E.y),[[q,"rgba(0,0,0,0)"],[.8*(1-q)+q,"rgba(0,0,0,"+.2*k+")"],[1,"rgba(255,255,255,"+.2*k+")"]],3),C._backGradient.call(L)&&c(t.bshadow,i(H?0:100,Y?0:100),i(D.x,D.y),[[.6,"rgba(0,0,0,0)"],[.8,"rgba(0,0,0,"+.3*k+")"],[1,"rgba(0,0,0,0)"]],3))},e.corner){case"tl":e.x=Math.max(e.x,1),N(),d(z,[1,0,0,1],[100,0],O);break;case"tr":e.x=Math.min(e.x,o-1),N(),d(i(-z.x,z.y),[0,0,0,1],[0,0],-O);break;case"bl":e.x=Math.max(e.x,1),N(),d(i(z.x,-z.y),[1,1,0,0],[100,100],-O);break;case"br":e.x=Math.min(e.x,o-1),N(),d(i(-z.x,-z.y),[0,1,1,0],[0,100],O)}}t.point=e},_moveFoldingPage:function(e){var t=this.data().f;if(t){var a=t.opts.turn,s=a.data(),i=s.pagePlace;e?(i[s=t.opts.next]!=t.opts.page&&(t.folding&&C._moveFoldingPage.call(this,!1),C._foldingPage.call(this).appendTo(t.fpage),i[s]=t.opts.page,t.folding=s),a.turn("update")):t.folding&&(s.pages[t.folding]?(a=s.pages[t.folding].data().f,s.pageObjs[t.folding].appendTo(a.wrapper)):s.pageWrap[t.folding]&&s.pageObjs[t.folding].appendTo(s.pageWrap[t.folding]),t.folding in i&&(i[t.folding]=t.folding),delete t.folding)}},_showFoldedPage:function(e,t){var a=C._foldingPage.call(this),s=(r=this.data()).f,i=s.visible;if(a){if(!(i&&s.point&&s.point.corner==e.corner||(a="hover"==s.status||"peel"==s.status||s.opts.turn.data().mouseAction?e.corner:null,i=!1,"prevented"!=d("start",this,[s.opts,a]))))return!1;if(t){var n=this,r=s.point&&s.point.corner==e.corner?s.point:C._c.call(this,e.corner,1);this.animatef({from:[r.x,r.y],to:[e.x,e.y],duration:500,frame:function(t){e.x=Math.round(t[0]),e.y=Math.round(t[1]),C._fold.call(n,e)}})}else C._fold.call(this,e),r.effect&&!r.effect.turning&&this.animatef(!1);if(!i)switch(s.effect){case"hard":s.visible=!0,C._moveFoldingPage.call(this,!0),s.fpage.show(),s.opts.shadows&&s.bshadow.show();break;case"sheet":s.visible=!0,s.fparent.show().data().flips++,C._moveFoldingPage.call(this,!0),s.fwrapper.show(),s.bshadow&&s.bshadow.show()}return!0}return!1},hide:function(){var e=this.data().f,t=e.opts.turn.data(),a=C._foldingPage.call(this);switch(e.effect){case"hard":t.opts.gradients&&(e.bshadowLoc=0,e.bshadow.remove(),e.ashadow.hide()),e.wrapper.transform(""),e.fpage.hide();break;case"sheet":0==--e.fparent.data().flips&&e.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(""),e.wrapper.transform(""),e.fwrapper.hide(),e.bshadow&&e.bshadow.hide(),a.transform("")}return e.visible=!1,this},hideFoldedPage:function(e){var t=this.data().f;if(t.point){var a=this,n=t.point,r=function(){t.point=null,t.status="",a.flip("hide"),a.trigger("end",[t.opts,!1])};if(e){var o=C._c.call(this,n.corner),l=(e="t"==n.corner.substr(0,1)?Math.min(0,n.y-o.y)/2:Math.max(0,n.y-o.y)/2,i(n.x,n.y+e)),c=i(o.x,o.y-e);this.animatef({from:0,to:1,frame:function(e){e=s(n,l,c,o,e),n.x=e.x,n.y=e.y,C._fold.call(a,n)},complete:r,duration:800,hiding:!0})}else this.animatef(!1),r()}},turnPage:function(e){var t=this,a=this.data().f,i=a.opts.turn.data(),n=(e={corner:a.corner?a.corner.corner:e||C._cAllowed.call(this)[0]},a.point||C._c.call(this,e.corner,a.opts.turn?i.opts.elevation:0)),r=C._c2.call(this,e.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(a){a=s(n,n,r,r,a),e.x=a.x,e.y=a.y,C._showFoldedPage.call(t,e)},complete:function(){t.trigger("end",[a.opts,!0])},duration:i.opts.duration,turning:!0}),a.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},corner:function(){return this.data().f.corner},_eventStart:function(e){var t=this.data().f,a=t.opts.turn;if(!t.corner&&!t.disabled&&!this.flip("isTurning")&&t.opts.page==a.data().pagePlace[t.opts.page]){if(t.corner=C._isIArea.call(this,e),t.corner&&C._foldingPage.call(this))return this.trigger("pressed",[t.point]),C._showFoldedPage.call(this,t.corner),!1;t.corner=null}},_eventMove:function(e){var t=this.data().f;if(!t.disabled)if(e=w?e.originalEvent.touches:[e],t.corner){var a=t.parent.offset();t.corner.x=e[0].pageX-a.left,t.corner.y=e[0].pageY-a.top,C._showFoldedPage.call(this,t.corner)}else t.hover&&!this.data().effect&&this.is(":visible")&&((e=C._isIArea.call(this,e[0]))?("sheet"==t.effect&&2==e.corner.length||"hard"==t.effect)&&(t.status="hover",t=C._c.call(this,e.corner,t.opts.cornerSize/2),e.x=t.x,e.y=t.y,C._showFoldedPage.call(this,e,!0)):"hover"==t.status&&(t.status="",C.hideFoldedPage.call(this,!0)))},_eventEnd:function(){var e=this.data().f,t=e.corner;!e.disabled&&t&&"prevented"!=d("released",this,[e.point||t])&&C.hideFoldedPage.call(this,!0),e.corner=null},disable:function(e){return C.setData.call(this,{disabled:e}),this},hover:function(e){return C.setData.call(this,{hover:e}),this},peel:function(t,a){var s=this.data().f;if(t){if(-1==e.inArray(t,y.all))throw h("Corner "+t+" is not permitted");if(-1!=e.inArray(t,C._cAllowed.call(this))){var i=C._c.call(this,t,s.opts.cornerSize/2);s.status="peel",C._showFoldedPage.call(this,{corner:t,x:i.x,y:i.y},a)}}else s.status="",C.hideFoldedPage.call(this,a);return this}};window.requestAnim=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},e.extend(e.fn,{flip:function(){return t(e(this[0]),C,arguments)},turn:function(){return t(e(this[0]),P,arguments)},transform:function(e,t){var a={};return t&&(a[f+"transform-origin"]=t),a[f+"transform"]=e,this.css(a)},animatef:function(t){var a=this.data();if(a.effect&&a.effect.stop(),t){t.to.length||(t.to=[t.to]),t.from.length||(t.from=[t.from]);for(var s=[],i=t.to.length,n=!0,r=this,o=(new Date).getTime(),l=function(){if(a.effect&&n){for(var e=[],c=Math.min(t.duration,(new Date).getTime()-o),d=0;d<i;d++)e.push(a.effect.easing(1,c,t.from[d],s[d],t.duration));t.frame(1==i?e[0]:e),c==t.duration?(delete a.effect,r.data(a),t.complete&&t.complete()):window.requestAnim(l)}},c=0;c<i;c++)s.push(t.to[c]-t.from[c]);a.effect=e.extend({stop:function(){n=!1},easing:function(e,t,a,s,i){return s*Math.sqrt(1-(t=t/i-1)*t)+a}},t),this.data(a),l()}else delete a.effect}}),e.isTouch=w,e.mouseEvents=b,e.cssPrefix=l,e.cssTransitionEnd=function(){var e,t=document.createElement("fakeelement"),a={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(void 0!==t.style[e])return a[e]},e.findPos=u}(jQuery),$("#flipbook").turn({autoCenter:!1,gradients:!0,acceleration:!0}),$("#flipbook").bind("end",(function(e,t,a){if(console.log(t),6==t.next||7==t.next){!function(e={viewPass:!1,autoHeight:!1}){const t=document.querySelectorAll("input[placeholder],textarea[placeholder]");if(console.log(document.querySelectorAll("input[placeholder],textarea[placeholder]")),t.length&&t.forEach((e=>{e.hasAttribute("data-placeholder-nohide")||(e.dataset.placeholder=e.placeholder)})),document.body.addEventListener("focusin",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=""),t.hasAttribute("data-no-focus-classes")||(t.classList.add("_form-focus"),t.parentElement.classList.add("_form-focus")),c.removeError(t))})),document.body.addEventListener("focusout",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=t.dataset.placeholder),t.hasAttribute("data-no-focus-classes")||(t.classList.remove("_form-focus"),t.parentElement.classList.remove("_form-focus")),t.hasAttribute("data-validate")&&c.validateInput(t))})),e.viewPass&&document.addEventListener("click",(function(e){let t=e.target;if(t.closest('[class*="__viewpass"]')){let e=t.classList.contains("_viewpass-active")?"password":"text";t.parentElement.querySelector("input").setAttribute("type",e),t.classList.toggle("_viewpass-active")}})),e.autoHeight){const a=document.querySelectorAll("textarea[data-autoheight]");if(a.length){function s(e,t){e.style.height=`${t}px`}a.forEach((e=>{const t=e.hasAttribute("data-autoheight-min")?Number(e.dataset.autoheightMin):Number(e.offsetHeight),a=e.hasAttribute("data-autoheight-max")?Number(e.dataset.autoheightMax):1/0;s(e,Math.min(t,a)),e.addEventListener("input",(()=>{e.scrollHeight>t&&(e.style.height="auto",s(e,Math.min(Math.max(e.scrollHeight,t),a)))}))}))}}}({viewPass:!1,autoHeight:!1}),d();let e=document.querySelectorAll('input[type="radio"]'),t=document.querySelector(".flipbook-form__inputname_tel-email");e.forEach((e=>{e.addEventListener("click",(e=>{"o_1"==e.target.id?(document.querySelector("#o_2").checked=!1,t.classList.contains("_email")&&t.classList.remove("_email"),t.classList.add("_tel")):"o_2"==e.target.id&&(document.querySelector("#o_1").checked=!1,t.classList.contains("_tel")&&t.classList.remove("_tel"),t.classList.add("_email"))}))}))}})),$(window).on("resize",(()=>{let e,t;window.matchMedia("(max-width: 350px)").matches?(e=.9*$(window).width(),t=1.6*$(window).width()):window.matchMedia("(max-width: 400px)").matches?(e=.9*$(window).width(),t=1.5*$(window).width()):window.matchMedia("(max-width: 480px)").matches?(e=.9*$(window).width(),t=1.3*$(window).width()):window.matchMedia("(max-width: 600px)").matches?(e=.9*$(window).width(),t=1.15*$(window).width()):window.matchMedia("(max-width: 900px)").matches?(e=.8*$(window).width(),t=.78*$(window).width()):window.matchMedia("(max-width: 1140px)").matches?(e=.6611*$(window).width(),t=.52*$(window).width()):(e=.6611*$(window).width(),t=.45*$(window).width()),$("#flipbook").turn("size",e,t)}));var u=window.matchMedia("(max-width: 600px)");function p(e){e.matches?$("#flipbook").turn("display","single"):$("#flipbook").turn("display","double")}u.addListener(p),p(u),$(".header__order").click((()=>{$("#flipbook").turn("page",7)})),document.addEventListener("touchstart",(function(e){const t=function(e){return e.touches}(e)[0];g=t.clientX,f=t.clientY}),!1),document.addEventListener("touchmove",(function(e){if(!g||!f)return;var t=e.touches[0].clientX,a=e.touches[0].clientY,s=g-t,i=f-a;Math.abs(s)>Math.abs(i)&&window.matchMedia("(max-width: 1200px)").matches&&(s>0?$("#flipbook").turn("next"):$("#flipbook").turn("previous"));g=null,f=null}),!1);var g=null,f=null;function m(e){window.matchMedia("(min-width: 1200px)").matches&&(e.deltaY>0?$("#flipbook").turn("next"):$("#flipbook").turn("previous"))}document.querySelector("#flipbook").addEventListener?"onwheel"in document?document.querySelector("#flipbook").addEventListener("wheel",m):"onmousewheel"in document?document.querySelector("#flipbook").addEventListener("mousewheel",m):document.querySelector("#flipbook").addEventListener("MozMousePixelScroll",m):document.querySelector("#flipbook").attachEvent("onmousewheel",m),$(document).ready((function(){$("a.scrollto").click((function(e){window.matchMedia("(max-width: 900px)").matches&&($(".menu-button").removeClass("menu-button-open"),$(".menu-items").removeClass("menu-items-open"));var t=$(this).attr("href");$(e.target).hasClass("_chapter-one")&&$("#flipbook").turn("page",3),$(e.target).hasClass("_chapter-two")&&$("#flipbook").turn("page",4),$(e.target).hasClass("_chapter-three")&&$("#flipbook").turn("page",5),$(e.target).hasClass("_chapter-four")&&$("#flipbook").turn("page",6),$(e.target).hasClass("_chapter-five")&&$("#flipbook").turn("page",7),$(e.target).hasClass("_chapter-six")&&$("#flipbook").turn("page",8),$(e.target).hasClass("_chapter-seven")&&$("#flipbook").turn("page",9),$(e.target).hasClass("_chapter-eight")&&$("#flipbook").turn("page",10),$(e.target).hasClass("_chapter-nine")&&$("#flipbook").turn("page",11),$(e.target).hasClass("_chapter-ten")&&$("#flipbook").turn("page",12),$(e.target).hasClass("_chapter-eleven")&&$("#flipbook").turn("page",13),$(e.target).hasClass("_chapter-twelve")&&$("#flipbook").turn("page",14),$(e.target).hasClass("_chapter-thirteen")&&$("#flipbook").turn("page",15);var a=$(t).offset().top-30;return jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop:a},800),!1}))}))})()})();